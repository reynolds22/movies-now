"use strict";(self.webpackChunkmovies_now=self.webpackChunkmovies_now||[]).push([[624],{317:(e,t,i)=>{i.d(t,{A:()=>s});i(43);var a=i(579);function s(e){let{playlists:t,onAdd:i,onClose:s,position:l}=e;return(0,a.jsxs)("div",{className:"popup-container",style:{top:l.top,left:l.left},children:[(0,a.jsx)("h3",{children:"Select a Playlist"}),(0,a.jsx)("ul",{children:t.map((e=>(0,a.jsx)("li",{children:(0,a.jsx)("button",{onClick:()=>{console.log("Adding to Playlist ID:",e.id),i?i(e.id):console.error("onAdd function is missing")},children:e.name})},e.id)))}),(0,a.jsx)("button",{className:"close-btn",onClick:s,children:"Close"})]})}},624:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var a=i(43),s=i(216),l=i(910),o=i(929),n=i(317),r=i(579);function d(e){let{addMovieToPlaylist:t,playlists:i}=e;const{id:d,type:c}=(0,s.g)(),p=(0,s.Zp)(),[h,m]=(0,a.useState)(null),[v,u]=(0,a.useState)([]),[j,g]=(0,a.useState)(null),[x,f]=(0,a.useState)(!0),[b,y]=(0,a.useState)(!1),[_,w]=(0,a.useState)({top:0,left:0}),N="808196157aa973f359929571d9321e60";(0,a.useEffect)((()=>{(async()=>{try{const e="movie"===c?"movie":"tv",t=await fetch(`https://api.themoviedb.org/3/${e}/${d}?api_key=${N}&language=en-US`),i=await t.json();m(i);const a=await fetch(`https://api.themoviedb.org/3/${e}/${d}/credits?api_key=${N}`),s=await a.json();u(s.cast.slice(0,10));const l=await fetch(`https://api.themoviedb.org/3/${e}/${d}/videos?api_key=${N}&language=en-US`),o=(await l.json()).results.find((e=>"Trailer"===e.type));g((null===o||void 0===o?void 0:o.key)||null),f(!1)}catch(e){console.error("Failed to fetch movie details:",e),f(!1)}})()}),[d,c]);return x?(0,r.jsx)("div",{children:"Loading..."}):h?(0,r.jsxs)("div",{className:"movie-details",children:[(0,r.jsxs)("button",{className:"back-button",onClick:()=>p(-1),children:[(0,r.jsx)(l.g,{icon:o.CeG})," Back"]}),(0,r.jsxs)("div",{className:"poster-trailer",children:[(0,r.jsx)("div",{className:"movie-banner",children:(0,r.jsx)("img",{src:h.backdrop_path?`https://image.tmdb.org/t/p/original${h.poster_path}`:"default.jpg",alt:h.title||h.name||"Image not available"})}),(0,r.jsxs)("div",{className:"details-right",children:[(0,r.jsx)("h1",{className:"movie-title",children:h.title||h.name||"Title not available"}),(0,r.jsx)("div",{className:"trailer-con",children:j&&(0,r.jsx)("div",{className:"movie-trailer",children:(0,r.jsx)("iframe",{src:`https://www.youtube.com/embed/${j}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Trailer"})})})]})]}),(0,r.jsxs)("div",{className:"movie-info",children:[(0,r.jsx)("p",{children:h.overview||"Description not available."}),(0,r.jsxs)("div",{className:"movie-stats",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)(l.g,{icon:o.yy})," Rating:"," ",h.vote_average?h.vote_average.toFixed(1):"N/A"]}),(0,r.jsxs)("p",{children:["Release Date: ",h.release_date||h.first_air_date||"N/A"]})]}),(0,r.jsx)("button",{className:"add-to-playlist",onClick:e=>(e=>{const t=e.target.getBoundingClientRect();w({top:t.bottom+window.scrollY,left:t.left+window.scrollX}),y(!0)})(e),children:"Add to Playlist"})]}),(0,r.jsxs)("div",{className:"movie-cast",children:[(0,r.jsx)("h2",{children:"Cast"}),(0,r.jsx)("ul",{children:v.map((e=>(0,r.jsxs)("li",{children:[(0,r.jsx)("img",{src:e.profile_path?`https://image.tmdb.org/t/p/w200${e.profile_path}`:"default_profile.jpg",alt:e.name}),(0,r.jsx)("p",{children:e.name}),(0,r.jsxs)("p",{children:["as ",e.character]})]},e.id)))})]}),b&&(0,r.jsx)(n.A,{playlists:i,onAdd:e=>{const i={id:h.id,title:h.title||h.name||"Untitled",poster_path:h.poster_path||"default.jpg",release_date:h.release_date||h.first_air_date||"N/A",vote_average:h.vote_average||0};t(e,i),y(!1)},onClose:()=>y(!1),position:_})]}):(0,r.jsx)("div",{children:"Movie details not found."})}}}]);
//# sourceMappingURL=624.56c0e326.chunk.js.map