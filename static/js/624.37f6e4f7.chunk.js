"use strict";(self.webpackChunkmovies_now=self.webpackChunkmovies_now||[]).push([[624],{624:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var i=t(43),l=t(216),s=t(910),o=t(929),n=t(579);function r(e){let{addMovieToPlaylist:a,playlists:t}=e;const{id:r,type:d}=(0,l.g)(),c=(0,l.Zp)(),[p,h]=(0,i.useState)(null),[m,v]=(0,i.useState)([]),[u,j]=(0,i.useState)(null),[g,x]=(0,i.useState)(!0),[f,y]=(0,i.useState)(!1),[b,_]=(0,i.useState)(null),w="808196157aa973f359929571d9321e60";(0,i.useEffect)((()=>{console.log("Fetching details for:",{id:r,type:d});(async()=>{try{const e="movie"===d?"movie":"tv",a=await fetch(`https://api.themoviedb.org/3/${e}/${r}?api_key=${w}&language=en-US`),t=await a.json();console.log("Details Data:",t),h(t);const i=await fetch(`https://api.themoviedb.org/3/${e}/${r}/credits?api_key=${w}`),l=await i.json();console.log("Credits Data:",l),v(l.cast.slice(0,10));const s=await fetch(`https://api.themoviedb.org/3/${e}/${r}/videos?api_key=${w}&language=en-US`),o=await s.json();console.log("Videos Data:",o);const n=o.results.find((e=>"Trailer"===e.type));j((null===n||void 0===n?void 0:n.key)||null),x(!1)}catch(e){console.error("Failed to fetch movie details:",e),x(!1)}})()}),[r,d]);return g?(0,n.jsx)("div",{children:"Loading..."}):p?(0,n.jsxs)("div",{className:"movie-details",children:[(0,n.jsxs)("button",{className:"back-button",onClick:()=>c(-1),children:[(0,n.jsx)(s.g,{icon:o.CeG})," Back"]}),(0,n.jsx)("div",{className:"movie-banner",children:(0,n.jsx)("img",{src:p.backdrop_path?`https://image.tmdb.org/t/p/original${p.backdrop_path}`:"default.jpg",alt:p.title||p.name||"Image not available"})}),(0,n.jsxs)("div",{className:"movie-info",children:[(0,n.jsx)("h1",{children:p.title||p.name||"Title not available"}),(0,n.jsx)("p",{children:p.overview||"Description not available."}),(0,n.jsxs)("div",{className:"movie-stats",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)(s.g,{icon:o.yy})," Rating:"," ",p.vote_average?p.vote_average.toFixed(1):"N/A"]}),(0,n.jsxs)("p",{children:["Release Date:"," ",p.release_date||p.first_air_date||"N/A"]})]}),(0,n.jsx)("button",{className:"add-to-playlist",onClick:()=>y(!0),children:"Add to Playlist"})]}),u&&(0,n.jsxs)("div",{className:"movie-trailer",children:[(0,n.jsx)("h2",{children:"Trailer"}),(0,n.jsx)("iframe",{src:`https://www.youtube.com/embed/${u}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Trailer"})]}),(0,n.jsxs)("div",{className:"movie-cast",children:[(0,n.jsx)("h2",{children:"Cast"}),(0,n.jsx)("ul",{children:m.map((e=>(0,n.jsxs)("li",{children:[(0,n.jsx)("img",{src:e.profile_path?`https://image.tmdb.org/t/p/w200${e.profile_path}`:"default_profile.jpg",alt:e.name}),(0,n.jsx)("p",{children:e.name}),(0,n.jsxs)("p",{children:["as ",e.character]})]},e.id)))})]}),f&&(0,n.jsx)("div",{className:"popup-overlay",children:(0,n.jsxs)("div",{className:"popup",children:[(0,n.jsx)("h2",{children:"Select Playlist"}),(0,n.jsx)("ul",{children:t.map((e=>(0,n.jsx)("li",{children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"radio",name:"playlist",value:e.id,onChange:()=>_(e.id)}),e.name]})},e.id)))}),(0,n.jsx)("button",{onClick:()=>{if(b){const e={id:p.id,title:p.title||p.name||"Untitled",poster_path:p.poster_path||null,release_date:p.release_date||p.first_air_date||"N/A",vote_average:p.vote_average||0};console.log("Adding item to playlist:",e),a(b,e),y(!1)}},children:"Add"}),(0,n.jsx)("button",{onClick:()=>y(!1),children:"Cancel"})]})})]}):(0,n.jsx)("div",{children:"Movie details not found."})}}}]);
//# sourceMappingURL=624.37f6e4f7.chunk.js.map