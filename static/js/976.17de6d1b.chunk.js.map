{"version":3,"file":"static/js/976.17de6d1b.chunk.js","mappings":"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","sources":["component/AddToPlaylistPopup.jsx","component/SearchResult.jsx"],"sourcesContent":["import React from \"react\";\nimport \"./AddToPlaylistPopup.css\";\n\nexport default function AddToPlaylistPopup({ playlists, onAdd, onClose, position }) {\n    return (\n        <div\n            className=\"popup-container\"\n            style={{ top: position.top, left: position.left }}\n        >\n            <h3>Select a Playlist</h3> \n            <ul>\n                {playlists.map((playlist) => (\n                    <li key={playlist.id}>\n<button\n  onClick={() => {\n    console.log(\"Adding to Playlist ID:\", playlist.id); // Debug playlist ID\n    if (onAdd) {\n      onAdd(playlist.id); // Call the onAdd function with playlist ID\n    } else {\n      console.error(\"onAdd function is missing\");\n    }\n  }}\n> \n  {playlist.name}\n</button>\n                    </li>\n                ))}\n            </ul>\n            <button className=\"close-btn\" onClick={onClose}>\n                Close\n            </button>\n        </div>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faList, faStar } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./Header.css\";\nimport AddToPlaylistPopup from \"./AddToPlaylistPopup\";\nimport \"./SearchResult.css\"; \n\nfunction SearchResult({ playlists, addMovieToPlaylist, addShowToPlaylist }) {\n  const { query, type } = useParams();\n  const navigate = useNavigate();\n  const [results, setResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const [isPopupOpen, setIsPopupOpen] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [popupPosition, setPopupPosition] = useState({ top: 0, left: 0 });\n\n  const API_KEY = \"808196157aa973f359929571d9321e60\";\n\n  useEffect(() => {\n    const fetchSearchResults = async () => {\n      setIsLoading(true);\n      setError(null);\n\n      try {\n        const endpointType = type === \"movie\" ? \"movie\" : \"tv\";\n        const url = `https://api.themoviedb.org/3/search/${endpointType}?api_key=${API_KEY}&query=${query}`;\n        const response = await fetch(url);\n        const data = await response.json();\n\n        if (response.ok) {\n          console.log(\"Fetched search results:\", data.results);\n          setResults(data.results || []);\n        } else {\n          setError(\"Failed to fetch data\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching search results:\", error);\n        setError(\"Failed to fetch data\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchSearchResults();\n  }, [query, type]);\n\n  const handleCardClick = (item) => {\n    navigate(`/details/${type}/${item.id}`);\n  };\n\n  const handleOpenPopup = (item, button) => {\n    const buttonRect = button.getBoundingClientRect();\n    setPopupPosition({\n      top: buttonRect.bottom + window.scrollY,\n      left: buttonRect.left + window.scrollX,\n    });\n    setSelectedItem(item);\n    setIsPopupOpen(true);\n  };\n\n  const handleAddToPlaylist = (playlistId) => {\n    console.log(\"Selected Item before adding:\", selectedItem);\n  \n    if (type === \"tv\" || selectedItem.first_air_date) {\n      console.log(\"Adding TV show to playlist\");\n      const standardizedShow = {\n        id: selectedItem.id,\n        type: \"tv\",\n        title: selectedItem.name || selectedItem.title || \"Untitled Show\",\n        poster_path: selectedItem.poster_path || null,\n        release_date: selectedItem.first_air_date || \"N/A\",\n        vote_average: selectedItem.vote_average || 0,\n        original_language: selectedItem.original_language || \"N/A\",\n        genre_ids: selectedItem.genre_ids || [],\n        overview: selectedItem.overview || \"\",\n        backdrop_path: selectedItem.backdrop_path || null,\n      };\n      console.log(\"Invoking addShowToPlaylist with:\", playlistId, standardizedShow);\n      addShowToPlaylist(playlistId, standardizedShow);\n    } else if (type === \"movie\" || selectedItem.release_date) {\n      console.log(\"Adding movie to playlist\");\n      const standardizedMovie = {\n        id: selectedItem.id,\n        type: \"movie\",\n        title: selectedItem.title || \"Untitled Movie\",\n        poster_path: selectedItem.poster_path || null,\n        release_date: selectedItem.release_date || \"N/A\",\n        vote_average: selectedItem.vote_average || 0,\n        original_language: selectedItem.original_language || \"N/A\",\n        genre_ids: selectedItem.genre_ids || [],\n        overview: selectedItem.overview || \"\",\n        backdrop_path: selectedItem.backdrop_path || null,\n      };\n      console.log(\"Invoking addMovieToPlaylist with:\", playlistId, standardizedMovie);\n      addMovieToPlaylist(playlistId, standardizedMovie);\n    } else {\n      console.error(\"Unknown type for selected item:\", selectedItem);\n    }\n  \n    setIsPopupOpen(false); // Close popup after adding\n  };\n          \n  return (\n    <div>\n      <div className=\"search-results-container\">\n        <h1>\n          Search Results for: {query} ({type === \"movie\" ? \"Movies\" : \"TV Shows\"})\n        </h1>\n        <div className=\"results-list\">\n          {isLoading ? (\n            <div>Loading...</div>\n          ) : error ? (\n            <div>Error: {error}</div>\n          ) : results.length > 0 ? (\n            results.map((item) => (\n              <div\n                key={item.id}\n                className=\"film-card\"\n                onClick={() => handleCardClick(item)}\n                style={{ cursor: \"pointer\" }}\n              >\n                <img\n                  src={`https://image.tmdb.org/t/p/w200${item.poster_path}`}\n                  alt={item.title || item.name}\n                />\n                <h3>{item.title || item.name}</h3>\n                <button\n                  className=\"add-movie\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleOpenPopup(item, e.target);\n                  }}\n                >\n                  <FontAwesomeIcon className=\"list-img\" icon={faList} />\n                  <p>Add {type === \"movie\" ? \"Movie\" : \"Show\"}</p>\n                </button>\n                <div className=\"stars\">\n                  <p className=\"p1\">\n                    {item.release_date\n                      ? item.release_date.slice(0, 4)\n                      : item.first_air_date\n                      ? item.first_air_date.slice(0, 4)\n                      : \"N/A\"}\n                  </p>\n                  <div className=\"p2\">\n                    <FontAwesomeIcon id=\"rate-star\" icon={faStar} />\n                    <p>{item.vote_average ? item.vote_average.toFixed(1) : \"N/A\"}</p>\n                  </div>\n                </div>\n              </div>\n            ))\n          ) : (\n            <p>No results found for \"{query}\".</p>\n          )}\n        </div>\n      </div>\n\n      {isPopupOpen && (\n        <AddToPlaylistPopup\n          playlists={playlists}\n          onAdd={handleAddToPlaylist}\n          onClose={() => setIsPopupOpen(false)}\n          position={popupPosition}\n        />\n      )} \n\n    </div> \n  );\n}\n\nexport default SearchResult;\n"],"names":["AddToPlaylistPopup","_ref","playlists","onAdd","onClose","position","_jsxs","className","style","top","left","children","_jsx","map","playlist","onClick","console","log","id","error","name","addMovieToPlaylist","addShowToPlaylist","query","type","useParams","navigate","useNavigate","results","setResults","useState","isLoading","setIsLoading","setError","isPopupOpen","setIsPopupOpen","selectedItem","setSelectedItem","popupPosition","setPopupPosition","useEffect","async","url","response","fetch","data","json","ok","fetchSearchResults","length","item","handleCardClick","cursor","src","poster_path","alt","title","e","stopPropagation","handleOpenPopup","button","buttonRect","getBoundingClientRect","bottom","window","scrollY","scrollX","target","FontAwesomeIcon","icon","faList","release_date","slice","first_air_date","faStar","vote_average","toFixed","playlistId","standardizedShow","original_language","genre_ids","overview","backdrop_path","standardizedMovie"],"sourceRoot":""}