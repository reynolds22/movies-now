"use strict";(self.webpackChunkmovies_now=self.webpackChunkmovies_now||[]).push([[107],{317:(s,e,i)=>{i.d(e,{A:()=>o});i(43);var l=i(579);function o(s){let{playlists:e,onAdd:i,onClose:o,position:t}=s;return(0,l.jsxs)("div",{className:"popup-container",style:{top:t.top,left:t.left},children:[(0,l.jsx)("h3",{children:"Select a Playlist"}),(0,l.jsx)("ul",{children:e.map((s=>(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:()=>{console.log("Adding to Playlist ID:",s.id),i?i(s.id):console.error("onAdd function is missing")},children:s.name})},s.id)))}),(0,l.jsx)("button",{className:"close-btn",onClick:o,children:"Close"})]})}},652:(s,e,i)=>{i.d(e,{A:()=>a});i(43);var l=i(910),o=i(892),t=i(579);const a=function(){return(0,t.jsxs)("footer",{children:[(0,t.jsx)("div",{className:"ze-logo",children:(0,t.jsx)("h3",{children:"Movies Now"})}),(0,t.jsxs)("div",{className:"pro-sources",children:[(0,t.jsx)("h3",{children:"Project Sources"}),(0,t.jsx)("hr",{}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"TMDB - API for movie info"}),(0,t.jsx)("li",{children:"YouTube API - For trailers"}),(0,t.jsx)("li",{children:"Google Fonts - For fonts"}),(0,t.jsx)("li",{children:"Font Awsome - For icons"}),(0,t.jsx)("li",{children:"ChatGPT - For learning"}),(0,t.jsx)("li",{children:"Other movie platforms - For UI inspiration"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"social-color",children:"Social"}),(0,t.jsx)("hr",{}),(0,t.jsxs)("div",{className:"social-icons",children:[(0,t.jsx)(l.g,{icon:o.QV6,className:"icons"}),(0,t.jsx)(l.g,{icon:o.aUl,className:"icons"}),(0,t.jsx)(l.g,{icon:o.NLt,className:"icons"}),(0,t.jsx)(l.g,{icon:o.Zhe,className:"icons"}),(0,t.jsx)(l.g,{icon:o.AIX,className:"icons"}),(0,t.jsx)(l.g,{icon:o.B4m,className:"icons"})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"\u2191 back to top \u2191"})})]})}},107:(s,e,i)=>{i.r(e),i.d(e,{default:()=>d});var l=i(43),o=i(216),t=i(317),a=i(652),n=i(910),c=i(929),r=i(579);function d(s){var e;let{playlists:i,setPlaylists:d,addMovieToPlaylist:m,addShowToPlaylist:h}=s;const{id:p}=(0,o.g)(),x=(0,o.Zp)(),[j,g]=(0,l.useState)(!1),[v,u]=(0,l.useState)(!1),[N,f]=(0,l.useState)(null),[y,b]=(0,l.useState)({top:0,left:0}),[w,P]=(0,l.useState)(null),k=i.find((s=>s.id===parseInt(p)));if(!k)return(0,r.jsx)("p",{children:"Playlist not found"});console.log("Rendering playlist:",k),console.log("Movies in Playlist:",k.movies),console.log("Shows in Playlist:",k.shows);const A=s=>{j&&P(s)},C=s=>{j&&s.preventDefault()},_=(s,e)=>{if(!j||null===w||w===s)return;const i=[...k[e]],[l]=i.splice(w,1);i.splice(s,0,l),d((s=>s.map((s=>s.id===k.id?{...s,[e]:i}:s)))),P(null)},D=(s,e)=>{console.log("Opening popup for show:",s);const i=e.target.getBoundingClientRect();b({top:i.bottom+window.scrollY,left:i.left+window.scrollX}),f(s),u(!0)},S=s=>{console.log("Clicked Item:",s,"Type:",s.type),x(`/details/${s.type}/${s.id}`)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"playlist-detail",children:[(0,r.jsxs)("div",{className:"top-bar",children:[(0,r.jsx)("button",{onClick:()=>x(-1),className:"back-arrow",children:"\u2190 Back"}),(0,r.jsx)("button",{onClick:()=>g(!j),className:"edit-button",children:j?"Done":"Edit"})]}),(0,r.jsxs)("div",{className:"playlist-info",children:[(0,r.jsx)("img",{className:"playlist-image",src:k.image||"default.jpg",alt:k.name}),(0,r.jsx)("h2",{children:k.name}),(0,r.jsx)("p",{children:k.description}),j&&(0,r.jsxs)("div",{className:"action-buttons",children:[(0,r.jsx)("button",{onClick:()=>{if(k.movies.length>0){const s=`https://image.tmdb.org/t/p/w500${k.movies[0].poster_path}`;d((e=>e.map((e=>e.id===k.id?{...e,image:s}:e))))}else alert("No movies in the playlist to set as an image.")},className:"save-img-button",children:"Save Playlist Image"}),(0,r.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to delete this playlist?")&&(d(i.filter((s=>s.id!==k.id))),x("/playlists"))},className:"delete-playlist-button",children:"Delete Playlist"})]}),j&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"info-box left-info",children:(0,r.jsxs)("p",{children:["Use the ",(0,r.jsx)("strong",{children:"Save Playlist Image"})," button to save the first movie's image as the playlist cover."]})}),(0,r.jsx)("div",{className:"info-box right-info",children:(0,r.jsx)("p",{children:"Drag and drop movies or shows to rearrange their order. This feature is only available in edit mode."})})]})]}),(0,r.jsxs)("div",{className:"playlist-movies",children:[k.movies.map(((s,e)=>(0,r.jsxs)("div",{className:"film-card",draggable:j,onDragStart:()=>A(e),onDragOver:C,onDrop:()=>_(e,"movies"),onClick:()=>S(s),children:[(0,r.jsx)("img",{src:`https://image.tmdb.org/t/p/w500${s.poster_path}`,alt:s.title||s.name}),(0,r.jsx)("h3",{children:s.title||s.name}),j&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),d((e=>e.map((e=>e.id===k.id?{...e,movies:e.movies.filter((e=>e.id!==s.id))}:e))))},className:"add-movie",children:"Delete Movie"}),(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),D(s,e)},className:"add-movie",children:[(0,r.jsx)(n.g,{className:"list-img",icon:c.ITF}),(0,r.jsx)("p",{children:"Add to Playlist"})]}),(0,r.jsxs)("div",{className:"stars",children:[(0,r.jsx)("p",{className:"p1",children:s.release_date?s.release_date.slice(0,4):"N/A"}),(0,r.jsxs)("div",{className:"p2",children:[(0,r.jsx)(n.g,{id:"rate-star",icon:c.yy}),(0,r.jsx)("p",{children:s.vote_average?s.vote_average.toFixed(1):"N/A"})]})]})]},`movie-${s.id}`))),null===(e=k.shows)||void 0===e?void 0:e.map(((s,e)=>(0,r.jsxs)("div",{className:"film-card",draggable:j,onDragStart:()=>A(e),onDragOver:C,onDrop:()=>_(e,"shows"),onClick:()=>S(s),children:[(0,r.jsx)("img",{src:`https://image.tmdb.org/t/p/w500${s.poster_path}`,alt:s.title||s.name||"Show Image"}),(0,r.jsx)("h3",{children:s.title||s.name}),j&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),d((e=>e.map((e=>e.id===k.id?{...e,shows:e.shows.filter((e=>e.id!==s.id))}:e))))},className:"add-movie",children:"Delete Show"}),(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),D(s,e)},className:"add-movie",children:[(0,r.jsx)(n.g,{className:"list-img",icon:c.ITF}),(0,r.jsx)("p",{children:"Add to Playlist"})]}),(0,r.jsxs)("div",{className:"stars",children:[(0,r.jsx)("p",{className:"p1",children:s.first_air_date?s.first_air_date.slice(0,4):"N/A"}),(0,r.jsxs)("div",{className:"p2",children:[(0,r.jsx)(n.g,{id:"rate-star",icon:c.yy}),(0,r.jsx)("p",{children:s.vote_average?s.vote_average.toFixed(1):"N/A"})]})]})]},`show-${s.id}`)))]}),v&&(0,r.jsx)(t.A,{playlists:i,onAdd:s=>{null!==N&&void 0!==N&&N.first_air_date?(console.log("Adding show to playlist from PlaylistDetail:",N),h(s,N)):(console.log("Adding movie to playlist from PlaylistDetail:",N),m(s,N)),u(!1)},onClose:()=>u(!1),position:y})]}),(0,r.jsx)(a.A,{})]})}}}]);
//# sourceMappingURL=107.c479871b.chunk.js.map