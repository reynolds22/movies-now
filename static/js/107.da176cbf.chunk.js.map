{"version":3,"file":"static/js/107.da176cbf.chunk.js","mappings":"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","sources":["component/AddToPlaylistPopup.jsx","component/PlaylistDetail.jsx"],"sourcesContent":["import React from \"react\";\nimport \"./AddToPlaylistPopup.css\";\n\nexport default function AddToPlaylistPopup({ playlists, onAdd, onClose, position }) {\n    return (\n        <div\n            className=\"popup-container\"\n            style={{ top: position.top, left: position.left }}\n        >\n            <h3>Select a Playlist</h3> \n            <ul>\n                {playlists.map((playlist) => (\n                    <li key={playlist.id}>\n<button\n  onClick={() => {\n    console.log(\"Adding to Playlist ID:\", playlist.id); // Debug playlist ID\n    if (onAdd) {\n      onAdd(playlist.id); // Call the onAdd function with playlist ID\n    } else {\n      console.error(\"onAdd function is missing\");\n    }\n  }}\n> \n  {playlist.name}\n</button>\n                    </li>\n                ))}\n            </ul>\n            <button className=\"close-btn\" onClick={onClose}>\n                Close\n            </button>\n        </div>\n    );\n}\n","import React, { useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport AddToPlaylistPopup from \"./AddToPlaylistPopup\";\nimport \"./PlaylistDetail.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faList, faStar } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function PlaylistDetail({\n  playlists,\n  setPlaylists,\n  addMovieToPlaylist,\n  addShowToPlaylist,\n}) {\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [isPopupOpen, setIsPopupOpen] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [popupPosition, setPopupPosition] = useState({ top: 0, left: 0 });\n  const [draggedItemIndex, setDraggedItemIndex] = useState(null);\n\n  const playlist = playlists.find((pl) => pl.id === parseInt(id));\n  if (!playlist) {\n    return <p>Playlist not found</p>;\n  }\n  \n  // Handle Drag Start\n  const handleDragStart = (index) => {\n    if (!isEditMode) return;\n    setDraggedItemIndex(index);\n  };\n\n  // Handle Drag Over\n  const handleDragOver = (e) => {\n    if (!isEditMode) return;\n    e.preventDefault();\n  };\n\n  // Handle Drop\n  const handleDrop = (dropIndex, type) => {\n    if (\n      !isEditMode ||\n      draggedItemIndex === null ||\n      draggedItemIndex === dropIndex\n    )\n      return;\n\n    const updatedItems = [...playlist[type]];\n    const [draggedItem] = updatedItems.splice(draggedItemIndex, 1);\n    updatedItems.splice(dropIndex, 0, draggedItem);\n\n    setPlaylists((prev) =>\n      prev.map((pl) =>\n        pl.id === playlist.id ? { ...pl, [type]: updatedItems } : pl\n      )\n    );\n    setDraggedItemIndex(null);\n  };\n\n  // Save the current first movie as the playlist image\n  const handleSaveImage = () => {\n    if (playlist.movies.length > 0) {\n      const firstMovie = playlist.movies[0];\n      const newImage = `https://image.tmdb.org/t/p/w500${firstMovie.poster_path}`;\n      setPlaylists((prev) =>\n        prev.map((pl) =>\n          pl.id === playlist.id ? { ...pl, image: newImage } : pl\n        )\n      );\n    } else {\n      alert(\"No movies in the playlist to set as an image.\");\n    }\n  };\n\n  // Delete Playlist\n  const handleDeletePlaylist = () => {\n    const confirmDelete = window.confirm(\n      \"Are you sure you want to delete this playlist?\"\n    );\n    if (confirmDelete) {\n      setPlaylists(playlists.filter((pl) => pl.id !== playlist.id));\n      navigate(\"/playlists\");\n    }\n  };\n\n  // Open Add to Playlist Popup\n  const handleOpenPopup = (show, event) => {\n    console.log(\"Opening popup for show:\", show); // Debugging\n    const buttonRect = event.target.getBoundingClientRect();\n    setPopupPosition({\n      top: buttonRect.bottom + window.scrollY,\n      left: buttonRect.left + window.scrollX,\n    });\n    setSelectedItem(show);\n    setIsPopupOpen(true);\n  };\n  \n  // Handle Card Click\n  const handleCardClick = (item) => {\n    navigate(`/details/${item.type}/${item.id}`);\n  };\n      \n  return (\n    <div>\n      <div className=\"playlist-detail\">\n        <div className=\"top-bar\">\n          <button onClick={() => navigate(-1)} className=\"back-arrow\">\n            ‚Üê Back\n          </button>\n          <button\n            onClick={() => setIsEditMode(!isEditMode)}\n            className=\"edit-button\"\n          >\n            {isEditMode ? \"Done\" : \"Edit\"}\n          </button>\n        </div>\n\n        <div className=\"playlist-info\">\n          <img\n            className=\"playlist-image\"\n            src={playlist.image || \"default.jpg\"}\n            alt=\"Add movies/shows!\"\n          />\n          <h2>{playlist.name}</h2>\n          <p>{playlist.description}</p>\n\n          {isEditMode && (\n            <div className=\"action-buttons\">\n              <button onClick={handleSaveImage} className=\"save-img-button\">\n                Save Playlist Image\n              </button>\n              <button\n                onClick={handleDeletePlaylist}\n                className=\"delete-playlist-button\"\n              >\n                Delete Playlist\n              </button>\n            </div>\n          )}\n\n          {isEditMode && (\n            <>\n              <div className=\"info-box left-info\">\n                <p>\n                  Use the <strong>Save Playlist Image</strong> button to save\n                  the first movie's image as the playlist cover.\n                </p>\n              </div>\n              <div className=\"info-box right-info\">\n                <p>\n                  Drag and drop movies or shows to rearrange their order. This\n                  feature is only available in edit mode.\n                </p>\n              </div>\n            </>\n          )}\n        </div>\n\n        <div className=\"playlist-movies\">\n          {/* Render Movies */}\n          {playlist.movies.map((movie, index) => (\n            <div\n              key={`movie-${movie.id}`}\n              className=\"film-card\"\n              draggable={isEditMode}\n              onDragStart={() => handleDragStart(index)}\n              onDragOver={handleDragOver}\n              onDrop={() => handleDrop(index, \"movies\")}\n              onClick={() => handleCardClick(movie, \"movie\")}\n            >\n              <img\n                src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n                alt={movie.title || movie.name}\n              />\n              <h3>{movie.title || movie.name}</h3>\n              {isEditMode && (\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    setPlaylists((prev) =>\n                      prev.map((pl) =>\n                        pl.id === playlist.id\n                          ? {\n                              ...pl,\n                              movies: pl.movies.filter(\n                                (m) => m.id !== movie.id\n                              ),\n                            }\n                          : pl\n                      )\n                    );\n                  }}\n                  className=\"add-movie\"\n                >\n                  Delete Movie\n                </button>\n              )}\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleOpenPopup(movie, e);\n                }}\n                className=\"add-movie\"\n              >\n                <FontAwesomeIcon className=\"list-img\" icon={faList} />\n                <p>Add to Playlist</p>\n              </button>\n              <div className=\"stars\">\n                <p className=\"p1\">\n                  {movie.release_date\n                    ? movie.release_date.slice(0, 4)\n                    : \"N/A\"}\n                </p>\n                <div className=\"p2\">\n                  <FontAwesomeIcon id=\"rate-star\" icon={faStar} />\n                  <p>\n                    {movie.vote_average\n                      ? movie.vote_average.toFixed(1)\n                      : \"N/A\"}\n                  </p>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {/* Render Shows */}\n          {playlist.shows?.map((show, index) => (\n            <div\n              key={`show-${show.id}`}\n              className=\"film-card\"\n              draggable={isEditMode}\n              onDragStart={() => handleDragStart(index)}\n              onDragOver={handleDragOver}\n              onDrop={() => handleDrop(index, \"shows\")}\n              onClick={() => handleCardClick(show, \"tv\")}\n            >\n              <img\n                src={`https://image.tmdb.org/t/p/w500${show.poster_path}`}\n                alt={show.title || show.name || \"Show Image\"}\n              />\n              <h3>{show.title || show.name}</h3>\n              {isEditMode && (\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    setPlaylists((prev) =>\n                      prev.map((pl) =>\n                        pl.id === playlist.id\n                          ? {\n                              ...pl,\n                              shows: pl.shows.filter((s) => s.id !== show.id),\n                            }\n                          : pl\n                      )\n                    );\n                  }}\n                  className=\"add-movie\"\n                >\n                  Delete Show\n                </button>\n              )}\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleOpenPopup(show, e);\n                }}\n                className=\"add-movie\"\n              >\n                <FontAwesomeIcon className=\"list-img\" icon={faList} />\n                <p>Add to Playlist</p>\n              </button>\n              <div className=\"stars\">\n                <p className=\"p1\">\n                  {show.first_air_date\n                    ? show.first_air_date.slice(0, 4)\n                    : \"N/A\"}\n                </p>\n                <div className=\"p2\">\n                  <FontAwesomeIcon id=\"rate-star\" icon={faStar} />\n                  <p>\n                    {show.vote_average\n                      ? show.vote_average.toFixed(1)\n                      : \"N/A\"}\n                  </p>\n                </div>\n              </div>\n            </div>\n          ))} \n        </div>\n\n        {isPopupOpen && (\n          <AddToPlaylistPopup\n          playlists={playlists}\n          onAdd={(playlistId) => {\n            if (selectedItem?.first_air_date) {\n              addShowToPlaylist(playlistId, selectedItem); // This must be correctly passed\n            } else {\n              addMovieToPlaylist(playlistId, selectedItem);\n            }\n            setIsPopupOpen(false);\n          }}\n          onClose={() => setIsPopupOpen(false)}\n          position={popupPosition}\n        />\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["AddToPlaylistPopup","_ref","playlists","onAdd","onClose","position","_jsxs","className","style","top","left","children","_jsx","map","playlist","onClick","console","log","id","error","name","PlaylistDetail","_playlist$shows","setPlaylists","addMovieToPlaylist","addShowToPlaylist","useParams","navigate","useNavigate","isEditMode","setIsEditMode","useState","isPopupOpen","setIsPopupOpen","selectedItem","setSelectedItem","popupPosition","setPopupPosition","draggedItemIndex","setDraggedItemIndex","find","pl","parseInt","handleDragStart","index","handleDragOver","e","preventDefault","handleDrop","dropIndex","type","updatedItems","draggedItem","splice","prev","handleOpenPopup","show","event","buttonRect","target","getBoundingClientRect","bottom","window","scrollY","scrollX","handleCardClick","item","src","image","alt","description","handleSaveImage","movies","length","newImage","poster_path","alert","handleDeletePlaylist","confirm","filter","_Fragment","movie","draggable","onDragStart","onDragOver","onDrop","title","stopPropagation","m","FontAwesomeIcon","icon","faList","release_date","slice","faStar","vote_average","toFixed","shows","s","first_air_date","playlistId"],"sourceRoot":""}