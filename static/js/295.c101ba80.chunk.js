"use strict";(self.webpackChunkmovies_now=self.webpackChunkmovies_now||[]).push([[295],{317:(e,s,t)=>{t.d(s,{A:()=>i});t(43);var a=t(579);function i(e){let{playlists:s,onAdd:t,onClose:i,position:l}=e;return(0,a.jsxs)("div",{className:"popup-container",style:{top:l.top,left:l.left},children:[(0,a.jsx)("h3",{children:"Select a Playlist"}),(0,a.jsx)("ul",{children:s.map((e=>(0,a.jsx)("li",{children:(0,a.jsx)("button",{onClick:()=>{console.log("Adding to Playlist ID:",e.id),t?t(e.id):console.error("onAdd function is missing")},children:e.name})},e.id)))}),(0,a.jsx)("button",{className:"close-btn",onClick:i,children:"Close"})]})}},828:(e,s,t)=>{t.r(s),t.d(s,{default:()=>S});var a=t(43);const i=t.p+"static/media/Best-Movie.10974783e6847e613301.jpg",l=t.p+"static/media/Gladiator.09165844b3363c7f034e.avif",o=t.p+"static/media/new.156312c0792f6ca2009f.webp",r=t.p+"static/media/older.3746212e589231e397c2.jpeg",n=t.p+"static/media/JFHpU0id.4e44af0b0a18b34f84fd.jpeg",d=t.p+"static/media/animated.f59870e647f36d77f1b5.jpg";var c=t(579);const p=[i,l,o,r,n,d];const h=function(){const[e,s]=(0,a.useState)(0);return(0,a.useEffect)((()=>{const e=setInterval((()=>{s((e=>(e+1)%p.length))}),7e3);return()=>clearInterval(e)}),[]),(0,c.jsx)("div",{className:"carousel",children:(0,c.jsx)("div",{className:"carousel-inner",style:{transform:`translateX(-${100*e}%)`},children:p.map(((e,s)=>(0,c.jsx)("div",{className:"carousel-item",style:{backgroundImage:`url(${e})`}},s)))})})};var g=t(910),v=t(929),m=t(317),y=t(216);const j="808196157aa973f359929571d9321e60",u="https://api.themoviedb.org/3/discover/movie",x="https://api.themoviedb.org/3/movie";function f(e){let{title:s,category:t,pages:i=1,genreId:l,keyword:o,playlists:r,addMovieToPlaylist:n}=e;const[d,p]=(0,a.useState)([]),[h,f]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),[T,_]=(0,a.useState)({top:0,left:0}),$=(0,y.Zp)();(0,a.useEffect)((()=>{(async()=>{let e=[];for(let a=1;a<=i;a++)try{const s=l||o?`${u}?api_key=${j}&page=${a}&with_genres=${l||""}&with_keywords=${o||""}`:`${x}/${t}?api_key=${j}&page=${a}`,i=await fetch(s),r=await i.json();r.results&&(e=[...e,...r.results])}catch(s){console.error("Error fetching movies:",s)}p(e)})()}),[t,i,l,o]);return(0,c.jsxs)("div",{className:"card-container",children:[(0,c.jsx)("h2",{children:s}),(0,c.jsx)("div",{className:"Popular-movies",children:d.map(((e,s)=>(0,c.jsxs)("div",{className:"film-card",onClick:()=>(e=>{$(`/details/movie/${e.id}`)})(e),children:[(0,c.jsx)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title}),(0,c.jsx)("h3",{children:e.title}),(0,c.jsxs)("button",{className:"add-movie",onClick:s=>{s.stopPropagation(),((e,s)=>{const t=s.target.getBoundingClientRect();_({top:t.bottom+window.scrollY,left:t.left+window.scrollX}),N(e),f(!0)})(e,s)},children:[(0,c.jsx)(g.g,{className:"list-img",icon:v.ITF}),(0,c.jsx)("p",{children:"Add Movie"})]}),(0,c.jsxs)("div",{className:"stars",children:[(0,c.jsx)("p",{className:"p1",children:e.release_date?e.release_date.slice(0,4):"N/A"}),(0,c.jsxs)("div",{className:"p2",children:[(0,c.jsx)(g.g,{id:"rate-star",icon:v.yy}),(0,c.jsx)("p",{children:e.vote_average?e.vote_average.toFixed(1):"N/A"})]})]})]},`${e.id}-${s}`)))}),h&&(0,c.jsx)(m.A,{playlists:r,onAdd:e=>{n(e,w),f(!1)},onClose:()=>f(!1),position:T})]})}const w="808196157aa973f359929571d9321e60";const N=function(e){let{title:s,category:t,pages:i=1,genreId:l,keyword:o,playlists:r,addShowToPlaylist:n}=e;const[d,p]=(0,a.useState)([]),[h,j]=(0,a.useState)(!1),[u,x]=(0,a.useState)(null),[f,N]=(0,a.useState)({top:0,left:0}),T=(0,y.Zp)();return(0,a.useEffect)((()=>{(async()=>{let e=[];for(let a=1;a<=i;a++)try{const s=l||o?`https://api.themoviedb.org/3/discover/tv?api_key=${w}&page=${a}&with_genres=${l||""}&with_keywords=${o||""}`:`https://api.themoviedb.org/3/tv/${t}?api_key=${w}&page=${a}`,i=await fetch(s),r=await i.json();r.results&&(e=[...e,...r.results])}catch(s){console.error("Error fetching shows:",s)}p(e)})()}),[t,i,l,o]),(0,c.jsxs)("div",{className:"tv-card-container",children:[(0,c.jsx)("h2",{children:s}),(0,c.jsx)("div",{className:"Popular-tv",children:d.map(((e,t)=>(0,c.jsxs)("div",{className:"film-card",onClick:()=>(e=>{T(`/details/tv/${e.id}`)})(e),children:[(0,c.jsx)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.name}),(0,c.jsx)("h3",{children:e.name}),(0,c.jsxs)("button",{className:"add-movie",onClick:s=>{s.stopPropagation(),((e,s)=>{const t=s.target.getBoundingClientRect();N({top:t.bottom+window.scrollY,left:t.left+window.scrollX}),x(e),j(!0)})(e,s)},children:[(0,c.jsx)(g.g,{className:"list-img",icon:v.ITF}),(0,c.jsx)("p",{children:"Add Show"})]}),(0,c.jsxs)("div",{className:"stars",children:[(0,c.jsx)("p",{className:"p1",children:e.first_air_date?e.first_air_date.slice(0,4):"N/A"}),(0,c.jsxs)("div",{className:"p2",children:[(0,c.jsx)(g.g,{id:"rate-star",icon:v.yy}),(0,c.jsx)("p",{children:e.vote_average?e.vote_average.toFixed(1):"N/A"})]})]})]},`${s}-${t}-${e.id}`)))}),h&&(0,c.jsx)(m.A,{playlists:r,onAdd:e=>{if(u){const s={id:u.id,name:u.name||"Untitled Show",poster_path:u.poster_path||null,first_air_date:u.first_air_date||"N/A",vote_average:u.vote_average||0};console.log("Adding selected show to playlist:",s),n(e,s),j(!1)}},onClose:()=>j(!1),position:f})]})},T="808196157aa973f359929571d9321e60";const _=function(e){let{trailerIndex:s}=e;const[t,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(!0);if((0,a.useEffect)((()=>{(async()=>{try{const e=await fetch(`https://api.themoviedb.org/3/movie/upcoming?api_key=${T}`),s=await e.json(),t=s.results.slice(0,5).map((async e=>{const s=await fetch(`https://api.themoviedb.org/3/movie/${e.id}/videos?api_key=${T}`),t=(await s.json()).results.find((e=>"Trailer"===e.type));return{...e,trailer:t}})),a=await Promise.all(t);i(a),o(!1)}catch(e){console.error("Error fetching trailers:",e)}})()}),[]),l)return(0,c.jsx)("div",{children:"Loading..."});if(!t[s]||!t[s].trailer)return(0,c.jsx)("div",{children:"No trailer available for this movie."});const r=t[s];return(0,c.jsxs)("div",{className:"movie-trailer-card",children:[(0,c.jsx)("h2",{children:`${r.title} Movie Trailer`}),(0,c.jsx)("div",{className:"trailer-con",children:(0,c.jsx)("iframe",{width:"560",height:"315",src:`https://www.youtube.com/embed/${r.trailer.key}?enablejsapi=1`,title:r.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})};var $=t(377),P=t(996);const S=function(e){let{playlists:s,setPlaylists:t,addMovieToPlaylist:i}=e;const[l,o]=(0,a.useState)(!1),r=(e,a)=>{console.log("Adding show:",a),console.log("To playlist ID:",e);const i=s.map((s=>{if(s.id===e){console.log("Updating playlist:",s.name);const e=s.shows?[...s.shows,a]:[a];return{...s,shows:e}}return s}));console.log("Updated playlists:",i),t(i)};return(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)($.A,{toggleMenu:()=>{o(!l)}}),(0,c.jsx)(P.A,{isOpen:l,closeMenu:()=>o(!1)}),(0,c.jsxs)("div",{className:"body",children:[(0,c.jsxs)("div",{className:"carousel-container",children:[(0,c.jsx)(h,{}),(0,c.jsx)("div",{className:"h1-Container",children:(0,c.jsx)("h1",{children:"Movies Now"})})]}),(0,c.jsx)(f,{title:"In Theaters Now",category:"now_playing",playlists:s,addMovieToPlaylist:i}),(0,c.jsx)(f,{title:"Upcoming Movies",category:"upcoming",pages:2,playlists:s,addMovieToPlaylist:i}),(0,c.jsx)(f,{title:"Action Movies",genreId:28,pages:3,playlists:s,addMovieToPlaylist:i}),(0,c.jsx)(_,{trailerIndex:0}),(0,c.jsx)(f,{title:"Comedy Movies",genreId:35,pages:3,playlists:s,addMovieToPlaylist:i}),(0,c.jsx)(f,{title:"Trending",category:"popular",playlists:s,addMovieToPlaylist:i}),(0,c.jsx)(f,{title:"Superhero Movies",keyword:"9715",pages:2,playlists:s,addMovieToPlaylist:i}),(0,c.jsx)(_,{trailerIndex:1}),(0,c.jsx)(f,{title:"Horror Movies",genreId:27,pages:3,playlists:s,addMovieToPlaylist:i}),(0,c.jsx)(f,{title:"Animated Movies",genreId:16,pages:3,playlists:s,addMovieToPlaylist:i}),(0,c.jsx)(f,{title:"Sci-Fi Movies",genreId:878,pages:3,playlists:s,addMovieToPlaylist:i}),(0,c.jsx)(_,{trailerIndex:2}),(0,c.jsx)(N,{title:"Popular TV Shows",category:"popular",pages:2,playlists:s,addShowToPlaylist:r}),(0,c.jsx)(N,{title:"Comedy TV Shows",genreId:35,pages:2,playlists:s,addShowToPlaylist:r}),(0,c.jsx)(N,{title:"Drama TV Shows",genreId:18,pages:2,playlists:s,addShowToPlaylist:r}),(0,c.jsx)(N,{title:"Action & Adventure TV Shows",genreId:10759,pages:2,playlists:s,addShowToPlaylist:r}),(0,c.jsx)(N,{title:"Sci-Fi & Fantasy TV Shows",genreId:10765,pages:2,playlists:s,addShowToPlaylist:r}),(0,c.jsx)(_,{trailerIndex:3}),(0,c.jsx)(f,{title:"Adventure",genreId:878,pages:3,playlists:s,addMovieToPlaylist:i}),(0,c.jsx)(f,{title:"Family",genreId:10751,pages:2,playlists:s,addMovieToPlaylist:i}),(0,c.jsx)(f,{title:"Documentary",genreId:99,pages:2,playlists:s,addMovieToPlaylist:i}),(0,c.jsx)(f,{title:"Drama Movies",genreId:18,pages:2,playlists:s,addMovieToPlaylist:i})]})]})}}}]);
//# sourceMappingURL=295.c101ba80.chunk.js.map